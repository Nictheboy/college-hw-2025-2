# 作业

李甘 2023202296

## 第一题

在 slt 执行后，$t2 = 1

由于 $t2 != 0，bne 的条件成立，跳转到 ELSE 处

执行 addi 后，$t2 = 1 + 2 = 3

答：3

## 第二题

MIPS 指令集文档中对 J 指令这样写：

> Description:
> This is a PC-region branch (not PC-relative); the effective target address is in the “current” 256 MB aligned region. The low 28 bits of the target address is the instr_index field shifted left 2 bits. The remaining upper bits are the corresponding bits of the address of the instruction in the delay slot (not the branch itself). Jump to the effective target address. Execute the instruction following the jump, in the branch delay slot, before jumping.
>
> 这是一个 PC 区域分支（非 PC 相对寻址）；其有效目标地址位于“当前” 256MB 对齐的区域内。
>
> 目标地址的低 28 位由 `instr_index` 字段左移 2 位（即乘以 4）得到。剩余的高位则取自**延迟槽中指令**（即跳转指令的下一条指令）地址的相应位，**而不是**分支指令本身的地址高位。
>
> （指令效果：）跳转到该有效目标地址。在实际跳转之前，会先执行紧跟在跳转指令后面的那条指令（即分支延迟槽中的指令）。

0x2000 0000 的高 4（32-28）位为 0,与 0x4000 0000 一致，所以第一个问题答案为“是”。

BEQ 命令的文档这样写：

> Description: if (rs = rt) then branch
> To compare GPRs then do a PC-relative conditional branch. An 18-bit signed offset (the 16-bit offset field shifted left 2 bits) is added to the address of the instruction following the branch (not the branch itself), in the branch delay slot, to form a PC-relative effective target address. If the contents of GPR rs and GPR rt are equal, branch to the effective target address after the instruction in the delay slot is executed.
>
> 如果 (rs = rt) 则分支。
>
> （该指令）用于比较两个通用寄存器（GPR），然后执行一次 PC 相对的条件分支。
>
> 一个 18 位的有符号偏移量（由 16 位的 `offset` 字段左移 2 位得到）将会被加到**分支指令之后的那条指令**（即分支延迟槽中的指令）的地址上（**注意**：不是加到分支指令本身的地址上），以此来形成一个 PC 相对的有效目标地址。
>
> 如果 GPR `rs` 和 GPR `rt` 的内容相等，那么在延迟槽中的指令被执行完毕后，程序将跳转到这个有效目标地址。

所以第二个问题的答案为“否”。
